/* =============================================================================
 * Dynamic Waybar Theme System - Gruvbox Dark
 * Configuration reference: https://github.com/Alexays/Waybar/wiki/Configuration
 * =========================================================================== */

/* -----------------------------------------------------------------------------
 * Gruvbox Dark Theme Variables
 * -------------------------------------------------------------------------- */

/* Base Gruvbox colors */
@define-color primary-color #fabd2f;
/* bright_yellow */
@define-color secondary-color #83a598;
/* bright_blue */
@define-color tertiary-color #b8bb26;
/* bright_green */
@define-color warning-color #fe8019;
/* bright_orange */
@define-color critical-color #fb4934;
/* bright_red */
@define-color success-color #b8bb26;
/* bright_green */

/* Background colors */
@define-color bg-primary rgba(40, 40, 40, 0.95);
/* dark0 */
@define-color bg-secondary rgba(50, 48, 47, 0.95);
/* dark1 */
@define-color bg-tertiary rgba(60, 56, 54, 0.95);
/* dark2 */

/* Text colors */
@define-color text-primary #ebdbb2;
/* light1 */
@define-color text-secondary #d5c4a1;
/* light2 */
@define-color text-muted #a89984;
/* gray */

/* Active window styling */
@define-color window-bg-start @primary-color;
@define-color window-bg-end @secondary-color;
@define-color window-text #1d2021;
/* dark0_hard */
@define-color window-border @primary-color;
@define-color window-shadow rgba(250, 189, 47, 0.4);

/* Workspace styling */
@define-color workspace-active-bg @primary-color;
@define-color workspace-active-text #1d2021;
@define-color workspace-hover-bg rgba(250, 189, 47, 0.15);
@define-color workspace-hover-text @secondary-color;

/* Module backgrounds */
@define-color module-bg-opacity rgba(60, 56, 54, 0.1);
@define-color module-border-opacity rgba(168, 153, 132, 0.2);
@define-color module-hover-opacity rgba(60, 56, 54, 0.2);
@define-color module-shadow-opacity rgba(250, 189, 47, 0.4);

/* Borders & shadows */
@define-color border-color @primary-color;

/* -----------------------------------------------------------------------------
 * Alternative Gruvbox Presets (comment/uncomment as needed)
 * -------------------------------------------------------------------------- */

/* Gruvbox Light Theme */
/*
@define-color primary-color #b57614;
@define-color secondary-color #076678;
@define-color tertiary-color #79740e;
@define-color bg-primary rgba(251, 241, 199, 0.95);
@define-color bg-secondary rgba(235, 219, 178, 0.95);
@define-color text-primary #3c3836;
@define-color text-secondary #504945;
*/

/* Gruvbox Material Dark */
/*
@define-color primary-color #d8a657;
@define-color secondary-color #7daea3;
@define-color tertiary-color #a9b665;
@define-color bg-primary rgba(40, 40, 40, 0.95);
@define-color bg-secondary rgba(50, 48, 47, 0.95);
*/

/* -----------------------------------------------------------------------------
 * Keyframes
 * -------------------------------------------------------------------------- */

@keyframes blink-warning {
  70% {
    color: @warning-color;
  }

  to {
    color: @warning-color;
    background-color: @bg-primary;
  }
}

@keyframes blink-critical {
  70% {
    color: @critical-color;
  }

  to {
    color: @critical-color;
    background-color: @bg-primary;
  }
}

@keyframes pulse-glow {
  0% {
    box-shadow: 0 0 10px @window-shadow;
  }

  100% {
    box-shadow: 0 0 10px @window-shadow;
  }

  50% {
    box-shadow: 0 0 15px @window-shadow;
  }
}

/* -----------------------------------------------------------------------------
 * Base styles
 * -------------------------------------------------------------------------- */

* {
  border: none;
  border-radius: 0;
  min-height: 0;
  margin: 0;
  padding: 0;
  box-shadow: none;
  text-shadow: none;
  -gtk-icon-shadow: none;
}

#waybar {
  background: linear-gradient(135deg, @bg-primary 0%, @bg-secondary 50%, @bg-tertiary 100%);
  color: @text-primary;
  font-family: "JetBrains Mono", "Noto Sans CJK", "Font Awesome 6 Free";
  font-size: 13px;
  font-weight: 500;
  border-bottom: 2px solid rgba(168, 153, 132, 0.3);
  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
}

/* -----------------------------------------------------------------------------
 * Workspaces - Dynamic theming
 * -------------------------------------------------------------------------- */

#workspaces {
  background: linear-gradient(45deg, alpha(@primary-color, 0.1), alpha(@secondary-color, 0.1));
  margin: 5px;
  padding: 0px 5px;
  border-radius: 12px;
  border: 1px solid alpha(@primary-color, 0.2);
  transition: all 0.3s ease;
}

#workspaces button {
  padding: 5px 10px;
  margin: 4px 2px;
  border-radius: 8px;
  color: @primary-color;
  background: transparent;
  transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

#workspaces button:hover {
  background: @workspace-hover-bg;
  color: @workspace-hover-text;
  box-shadow: 0 0 10px alpha(@primary-color, 0.4);
}

#workspaces button.active {
  color: @workspace-active-text;
  background: @workspace-active-bg;
  box-shadow: 0 2px 10px alpha(@primary-color, 0.3);
  animation: pulse-glow 3s ease-in-out infinite;
}

#workspaces button.urgent {
  color: @critical-color;
  background: alpha(@critical-color, 0.1);
  animation: blink-warning 1s linear infinite alternate;
}

/* -----------------------------------------------------------------------------
 * Window - Most dynamic element
 * -------------------------------------------------------------------------- */

#window {
  margin: 5px 15px 5px 0px;
  padding: 8px 15px;
  border-radius: 8px;
  color: @window-text;
  background: linear-gradient(45deg, alpha(@primary-color, 0.8), alpha(@secondary-color, 0.8));
  border: 1px solid @window-border;
  transition: all 0.3s ease;
  font-weight: 600;
  box-shadow: 0 2px 10px @window-shadow;
}

#window:hover {
  box-shadow: 0 4px 12px @window-shadow;
}

#window.empty {
  background: transparent;
  border: none;
  box-shadow: none;
}

/* -----------------------------------------------------------------------------
 * Launcher
 * -------------------------------------------------------------------------- */

#custom-launcher {
  color: @primary-color;
  background: linear-gradient(45deg, alpha(@primary-color, 0.1), alpha(@secondary-color, 0.1));
  border: 1px solid alpha(@primary-color, 0.3);
  padding: 0 15px;
  margin: 5px 0px 5px 5px;
  border-radius: 8px;
  transition: all 0.3s ease;
}

#custom-launcher:hover {
  background: linear-gradient(45deg, alpha(@primary-color, 0.2), alpha(@secondary-color, 0.2));
  box-shadow: 0 0 10px alpha(@primary-color, 0.5);
}

/* -----------------------------------------------------------------------------
 * Clock & MPRIS - Adapts to tertiary color
 * -------------------------------------------------------------------------- */
#mpris,
#clock {
  color: @tertiary-color;
  background: linear-gradient(45deg, alpha(@tertiary-color, 0.1), alpha(@warning-color, 0.1));
  border: 1px solid alpha(@tertiary-color, 0.3);
  padding: 8px 20px;
  margin: 5px;
  border-radius: 12px;
  font-weight: 600;
  font-size: 14px;
  transition: all 0.3s ease;
}

#mpris:hover,
#clock:hover {
  background: linear-gradient(45deg, alpha(@tertiary-color, 0.2), alpha(@warning-color, 0.2));
  box-shadow: 0 0 12px alpha(@tertiary-color, 0.4);
}

/* -----------------------------------------------------------------------------
 * System Stats - Using success color
 * -------------------------------------------------------------------------- */

#cpu,
#memory,
#temperature {
  color: @success-color;
  background: alpha(@success-color, 0.1);
  border: 1px solid alpha(@success-color, 0.2);
  padding: 8px 12px;
  margin: 5px 2px;
  border-radius: 8px;
  font-weight: 500;
  transition: all 0.3s ease;
}

#cpu:hover,
#memory:hover,
#temperature:hover {
  background: alpha(@success-color, 0.2);
  box-shadow: 0 0 10px alpha(@success-color, 0.4);
}

#temperature.critical {
  color: @critical-color;
  background: alpha(@critical-color, 0.1);
  animation: blink-critical 1s linear infinite alternate;
}

/* -----------------------------------------------------------------------------
 * Audio - Using secondary color
 * -------------------------------------------------------------------------- */
#idle-inhibitor,
#pulseaudio,
#pulseaudio.microphone {
  color: @secondary-color;
  background: alpha(@secondary-color, 0.1);
  border: 1px solid alpha(@secondary-color, 0.2);
  padding: 8px 12px;
  margin: 5px 2px;
  border-radius: 8px;
  transition: all 0.3s ease;
}

#idle-inhibitor:hover,
#pulseaudio:hover,
#pulseaudio.microphone:hover {
  background: alpha(@secondary-color, 0.2);
  box-shadow: 0 0 10px alpha(@secondary-color, 0.4);
}

#pulseaudio.muted {
  color: @text-muted;
  background: alpha(@text-muted, 0.1);
}

/* -----------------------------------------------------------------------------
 * Network & Tray
 * -------------------------------------------------------------------------- */
#tray,
#network {
  color: @secondary-color;
  background: alpha(@secondary-color, 0.1);
  border: 1px solid alpha(@secondary-color, 0.2);
  padding: 8px 12px;
  margin: 5px 2px;
  border-radius: 8px;
  transition: all 0.3s ease;
  min-width: 20px;
}

#tray:hover,
#network:hover {
  background: alpha(@secondary-color, 0.2);
  box-shadow: 0 0 10px alpha(@secondary-color, 0.4);
}

#network.disconnected {
  color: @critical-color;
  background: alpha(@critical-color, 0.1);
}

/* Ensure tray items are visible */
#tray>.passive {
  -gtk-icon-effect: dim;
}

#tray>.needs-attention {
  -gtk-icon-effect: highlight;
  background-color: alpha(@warning-color, 0.2);
  border: 1px solid @warning-color;
}

#tray>.active {
  background-color: alpha(@secondary-color, 0.15);
}

/* -----------------------------------------------------------------------------
 * Bluetooth
 * -------------------------------------------------------------------------- */

#bluetooth {
  color: @primary-color;
  background: alpha(@primary-color, 0.1);
  border: 1px solid alpha(@primary-color, 0.2);
  padding: 8px 12px;
  margin: 5px 2px;
  border-radius: 8px;
  transition: all 0.3s ease;
}

#bluetooth:hover {
  background: alpha(@primary-color, 0.2);
  box-shadow: 0 0 10px alpha(@primary-color, 0.4);
}

#bluetooth.disabled,
#bluetooth.off {
  color: @text-muted;
  background: alpha(@text-muted, 0.1);
}

/* -----------------------------------------------------------------------------
 * Battery
 * -------------------------------------------------------------------------- */

#battery {
  color: @success-color;
  background: alpha(@success-color, 0.1);
  border: 1px solid alpha(@success-color, 0.2);
  padding: 8px 12px;
  margin: 5px 2px;
  border-radius: 8px;
  transition: all 0.3s ease;
}

#battery:hover {
  background: alpha(@success-color, 0.2);
  box-shadow: 0 0 10px alpha(@success-color, 0.4);
}

#battery.charging {
  color: @warning-color;
  background: alpha(@warning-color, 0.1);
  border-color: alpha(@warning-color, 0.2);
}

#battery.warning:not(.charging) {
  color: @warning-color;
  background: alpha(@warning-color, 0.1);
  border-color: alpha(@warning-color, 0.2);
  animation: blink-warning 1s linear infinite alternate;
}

#battery.critical:not(.charging) {
  color: @critical-color;
  background: alpha(@critical-color, 0.1);
  border-color: alpha(@critical-color, 0.2);
  animation: blink-critical 1s linear infinite alternate;
}

/* -----------------------------------------------------------------------------
 * Backlight
 * -------------------------------------------------------------------------- */

#backlight {
  color: @warning-color;
  background: alpha(@warning-color, 0.1);
  border: 1px solid alpha(@warning-color, 0.2);
  padding: 8px 12px;
  margin: 5px 2px;
  border-radius: 8px;
  transition: all 0.3s ease;
}

#backlight:hover {
  background: alpha(@warning-color, 0.2);
  box-shadow: 0 0 10px alpha(@warning-color, 0.4);
}

/* -----------------------------------------------------------------------------
 * Custom modules
 * -------------------------------------------------------------------------- */

#custom-weather {
  color: @secondary-color;
  background: alpha(@secondary-color, 0.1);
  border: 1px solid alpha(@secondary-color, 0.2);
  padding: 8px 12px;
  margin: 5px 2px;
  border-radius: 8px;
  transition: all 0.3s ease;
}

#custom-weather:hover {
  background: alpha(@secondary-color, 0.2);
  box-shadow: 0 0 10px alpha(@secondary-color, 0.4);
}

#custom-power {
  color: @critical-color;
  background: linear-gradient(45deg, alpha(@critical-color, 0.1), alpha(@critical-color, 0.15));
  border: 1px solid alpha(@critical-color, 0.3);
  padding: 8px 15px;
  margin: 5px 5px 5px 2px;
  border-radius: 8px;
  transition: all 0.3s ease;
}

#custom-power:hover {
  background: linear-gradient(45deg, alpha(@critical-color, 0.2), alpha(@critical-color, 0.25));
  box-shadow: 0 0 12px alpha(@critical-color, 0.5);
}

#custom-notification {
  color: @warning-color;
  background: alpha(@warning-color, 0.1);
  border: 1px solid alpha(@warning-color, 0.2);
  padding: 8px 12px;
  margin: 5px 2px;
  border-radius: 8px;
  transition: all 0.3s ease;
  font-size: 16px;
}

#custom-notification:hover {
  background: alpha(@warning-color, 0.2);
  box-shadow: 0 0 10px alpha(@warning-color, 0.4);
}

#custom-notification.notification {
  background: alpha(@critical-color, 0.2);
  border-color: alpha(@critical-color, 0.3);
  animation: blink-warning 2s linear infinite alternate;
}

#custom-wifi {
  color: @primary-color;
  background: alpha(@primary-color, 0.1);
  border: 1px solid alpha(@primary-color, 0.2);
  padding: 8px 12px;
  margin: 5px 2px;
  border-radius: 8px;
  transition: all 0.3s ease;
}

#custom-wifi:hover {
  background: alpha(@primary-color, 0.2);
  box-shadow: 0 0 10px alpha(@primary-color, 0.4);
}

/* -----------------------------------------------------------------------------
 * Tooltips
 * -------------------------------------------------------------------------- */

tooltip {
  background: @bg-primary;
  border: 1px solid alpha(@primary-color, 0.3);
  border-radius: 8px;
  color: @text-primary;
  font-family: "JetBrains Mono", monospace;
  font-size: 12px;
}

tooltip label {
  color: @text-primary;
}
